(function(){var chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var defaults={chars:chars,shuffle:false,mask:false,padding:3,seed:123456789};var Hashkit=function(options){this.options=extend({},defaults,options);if(this.options.padding<1){this.options.padding=1}else if(this.options.padding>8){this.options.padding=8}if(this.options.shuffle){this.shuffleChars(this.options.seed)}};Hashkit.prototype.encode=function(i){if(this.options.mask){i=getMaskedNum(i,this.options.seed,this.options.padding)}return baseEncode(i,this.options.chars)};Hashkit.prototype.decode=function(s){var num=baseDecode(s,this.options.chars);if(this.options.mask){return parseInt(num.toString().substr(this.options.padding))}return num};function baseEncode(i,chars){if(i==0)return chars[0];var s="";var base=chars.length;while(i>0){s=chars[i%base]+""+s;i=Math.floor(i/base)}return s}function baseDecode(s,chars){var n=0;var base=chars.length;for(var i=0;i<s.length;i++){n+=chars.indexOf(s[i])*Math.pow(base,s.length-i-1)}return n}Hashkit.prototype.shuffleChars=function(seed){if(typeof seed==="string"){seed=getHashCode(seed)}this.options.chars=shuffle(chars.split(""),seed).join("")};function getMaskedNum(i,seed,padding){var r=getRandom(i^seed,10);var max=Math.pow(10,padding)-1;var min=Math.pow(10,padding-1);var mask=Math.floor(min+r*(max-min));return parseInt(mask+""+i)}function getRandom(x,n){n=n||1;for(var i=0;i<n;i++){x^=x<<21;x^=x>>>35;x^=x<<4}return(x>>>0)/4294967296}function getHashCode(s){return s.split("").reduce(function(a,b){a=(a<<5)-a+b.charCodeAt(0);return a&a},0)}function shuffle(array,seed){var i=array.length,j,tmp;while(i>0){j=Math.floor(getRandom(i^seed,10)*i);i--;tmp=array[i];array[i]=array[j];array[j]=tmp}return array}function extend(){var obj={};for(var i=arguments.length-1;i>0;i--){var source=arguments[i];var target=copy({},arguments[i-1]);obj=arguments[i-1]=copy(target,source)}return obj}function copy(target,source){target=target||{};for(var prop in source){if(typeof source[prop]==="object"){target[prop]=extend(target[prop],source[prop])}else{target[prop]=source[prop]}}return target}if(typeof module!=="undefined"&&typeof module.exports!=="undefined"){module.exports=Hashkit}else{if(typeof define==="function"&&define.amd){define([],function(){return Hashkit})}else{window.Hashkit=Hashkit}}})();